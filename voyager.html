<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organisation du Voyage</title>
    <style>
        /* ... (ton style existant ici) ... */
    </style>
</head>
<body>
    <!-- En-tête avec les logos -->
    <div class="header">
        <img src="images/logo_mobilize.PNG" alt="Logo Mobilize">
        <img src="images/logo_rway.PNG" alt="Logo R-Way">
    </div>

    <div class="container">
        <h1>Organisation du Voyage</h1>

        <div class="section calendar">
            <div class="calendar-controls">
                <button id="prev-month">◀</button>
                <select id="month-select"></select>
                <button id="next-month">▶</button>
            </div>
            <table id="calendar-table">
                <thead>
                    <tr>
                        <th>Lun</th>
                        <th>Mar</th>
                        <th>Mer</th>
                        <th>Jeu</th>
                        <th>Ven</th>
                        <th>Sam</th>
                        <th>Dim</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="section horaires" id="horaires-section" style="display: none;">
            <h2>Horaire à sélectionner :</h2>
            <div id="horaires-list"></div>
        </div>

        <div class="section gamme-selection">
            <h2>Sélection de la Gamme</h2>
            <div class="gamme-item">
                <img src="images/voiture_rail.PNG" alt="R-Way 1 à 4 Personnes">
                <h3>R-Way 1 à 4 Personnes</h3>
                <p>Sièges conducteur, Prises de recharge, Bluetooth, Tableau de bord, Espaces rangements</p>
            </div>
            <div class="gamme-item">
                <img src="images/voiture_route.PNG" alt="R-Way 4 à 8 Personnes">
                <h3>R-Way 4 à 8 Personnes</h3>
                <p>Sièges conducteur, Table rétractable, Prises de recharge, Bluetooth, Espaces rangements</p>
            </div>
        </div>

        <div class="button-container">
            <a href="continuer.html">Continuer</a>
        </div>
    </div>

    <script>
        const monthNames = [
            "Janvier", "Février", "Mars", "Avril", "Mai", "Juin", 
            "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Décembre"
        ];

        const today = new Date();
        let currentMonth = today.getMonth();
        let currentYear = today.getFullYear();

        const monthSelect = document.getElementById("month-select");
        const calendarTable = document.getElementById("calendar-table").querySelector("tbody");
        const horairesSection = document.getElementById("horaires-section");
        const horairesList = document.getElementById("horaires-list");

        function populateMonthSelect() {
            monthSelect.innerHTML = "";
            for (let i = 0; i < monthNames.length; i++) {
                const option = document.createElement("option");
                option.value = i;
                option.textContent = `${monthNames[i]} ${currentYear}`;
                if (i === currentMonth) option.selected = true;
                monthSelect.appendChild(option);
            }
        }

        function generateCalendar(month, year) {
            calendarTable.innerHTML = "";

            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            let day = 1;
            const rows = Math.ceil((daysInMonth + firstDay) / 7);

            for (let i = 0; i < rows; i++) {
                const row = document.createElement("tr");
                for (let j = 0; j < 7; j++) {
                    const cell = document.createElement("td");

                    if ((i === 0 && j < (firstDay === 0 ? 6 : firstDay - 1)) || day > daysInMonth) {
                        cell.textContent = "";
                    } else {
                        cell.textContent = day;
                        cell.addEventListener("click", () => {
                            document.querySelectorAll("td.active").forEach(td => td.classList.remove("active"));
                            cell.classList.add("active");
                            generateHoraires(day, month, year);  // Génère des horaires pour le jour sélectionné
                        });
                        day++;
                    }
                    row.appendChild(cell);
                }
                calendarTable.appendChild(row);
            }
        }

        function generateHoraires(day, month, year) {
            horairesSection.style.display = 'block';
            horairesList.innerHTML = '';

            // Génère des horaires aléatoires entre 8h00 et 18h00
            const numHoraires = Math.floor(Math.random() * 5) + 3;  // Entre 3 et 7 horaires

            // Les minutes possibles pour les horaires "piles"
            const minutesPossibles = [0, 15, 30, 45];

            for (let i = 0; i < numHoraires; i++) {
                let hour = Math.floor(Math.random() * 11) + 8;  // Entre 8 et 18 heures
                let minute = minutesPossibles[Math.floor(Math.random() * minutesPossibles.length)];  // Sélectionne aléatoirement parmi 00, 15, 30, 45

                const time = `${hour}:${minute < 10 ? '0' + minute : minute}`;  // Format avec deux chiffres pour les minutes
                const button = document.createElement("button");
                button.textContent = time;
                horairesList.appendChild(button);
            }
        }

        function updateCalendar() {
            generateCalendar(currentMonth, currentYear);
            populateMonthSelect();
        }

        document.getElementById("prev-month").addEventListener("click", () => {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            updateCalendar();
        });

        document.getElementById("next-month").addEventListener("click", () => {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            updateCalendar();
        });

        monthSelect.addEventListener("change", () => {
            currentMonth = parseInt(monthSelect.value);
            updateCalendar();
        });

        updateCalendar();
    </script>
</body>
</html>


